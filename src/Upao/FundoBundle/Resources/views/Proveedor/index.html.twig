{% extends '::base.html.twig' %}

{% block body -%}

    <h3>Proveedores</h3>
    <div class="tab-pane" id="datatable">
        <section class="panel">
            <div class="table-responsive">
                <table class="table table-striped m-b-none" data-href="{{ path('proveedor') }}" data-ride="datatables">
                    <thead>
                    <tr>
                        <th data-property="nombre" width="30%">Nombre</th>
                        <th data-property="ruc" width="20%">R.U.C.</th>
                        <th data-property="telefono" width="10%">Tel√©fono</th>
                        <th data-property="contacto" width="30%">Contacto</th>
                        <th data-property="id" width="10%">Detalle</th>

                    </tr>
                    </thead>
                    <tbody>

                    </tbody>
                </table>
            </div>
        </section>
    </div>

    <a class="btn btn-primary btn-modal" href="{{ path('proveedor_new') }}">Nuevo</a>


{% endblock %}
{% block javascript %}
    <script>
        $(document).ready(function () {

            $('[data-ride="datatables"]').each(function () {
                var $element = $(this);
                var oTable = $(this).dataTable({
                    "bProcessing": true,
                    "sAjaxDataProp": "results",
                    "sAjaxSource": $element.data('href'),
                    "sDom": "<'row'<'col-sm-6'l><'col-sm-6'f>r>t<'row'<'col-sm-6'i><'col-sm-6'p>>",
                    "sPaginationType": "full_numbers",
                    "aoColumns": [
                        {"mData": "nombre"},
                        {"mData": "ruc"},
                        {"mData": "telefono"},
                        {"mData": "contacto"},
                        {"mData": "id"}
                    ],
                    fnStateLoad: function () {
                        console.log('cargo');
                    }
                });
            });
        })
    </script>

{% endblock %}
